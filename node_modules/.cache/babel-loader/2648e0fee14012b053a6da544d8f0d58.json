{"ast":null,"code":"import _toConsumableArray from\"C:/Users/pvplo/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/editpallav-main/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _defineProperty from\"C:/Users/pvplo/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/editpallav-main/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/pvplo/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/editpallav-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/pvplo/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/editpallav-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/pvplo/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/editpallav-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\pvplo\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\editpallav-main\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from'react';import{db}from'../firebase/firestore';// adjust the path as needed\nimport{collection,doc,getDoc,updateDoc,deleteDoc,query,where,getDocs,orderBy,limit,startAfter}from\"firebase/firestore\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var UserManagementPanel=function UserManagementPanel(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchTerm=_useState2[0],setSearchTerm=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),editUserData=_useState6[0],setEditUserData=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),successMessage=_useState8[0],setSuccessMessage=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),errorMessage=_useState10[0],setErrorMessage=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isEditing=_useState12[0],setIsEditing=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),users=_useState14[0],setUsers=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),lastVisible=_useState16[0],setLastVisible=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),loading=_useState18[0],setLoading=_useState18[1];var _useState19=useState({}),_useState20=_slicedToArray(_useState19,2),dropdownVisible=_useState20[0],setDropdownVisible=_useState20[1];// Add state for dropdown visibility\nvar handleSearch=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var userFound,usernameQuery,usernameSnapshot,userData,userDoc,_userData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;userFound=false;// Search by username\nusernameQuery=query(collection(db,\"telegramUsers\"),where(\"username\",\"==\",searchTerm));_context.next=5;return getDocs(usernameQuery);case 5:usernameSnapshot=_context.sent;if(!usernameSnapshot.empty){userData=usernameSnapshot.docs[0].data();setUser(_objectSpread({id:usernameSnapshot.docs[0].id},userData));setEditUserData(_objectSpread({},userData));userFound=true;}// Search by userId if not found by username\nif(userFound){_context.next=12;break;}_context.next=10;return getDoc(doc(db,\"telegramUsers\",searchTerm));case 10:userDoc=_context.sent;if(userDoc.exists()){_userData=userDoc.data();setUser(_objectSpread({id:userDoc.id},_userData));setEditUserData(_objectSpread({},_userData));userFound=true;}case 12:if(!userFound){setUser(null);setEditUserData(null);setErrorMessage('No user found');}else{setErrorMessage('');}_context.next=19;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](0);console.error(\"Error searching user: \",_context.t0);setErrorMessage('Error searching user');case 19:case\"end\":return _context.stop();}}},_callee,null,[[0,15]]);}));return function handleSearch(){return _ref.apply(this,arguments);};}();var handleInputChange=function handleInputChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setEditUserData(_objectSpread(_objectSpread({},editUserData),{},_defineProperty({},name,name==='balance'||name==='tapBalance'?Number(value):value)));};var handleUpdateUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var userDoc;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;userDoc=doc(db,\"telegramUsers\",user.id);_context2.next=4;return updateDoc(userDoc,editUserData);case 4:setSuccessMessage('User successfully updated!');setUser(_objectSpread({id:user.id},editUserData));setIsEditing(false);_context2.next=13;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);console.error(\"Error updating user: \",_context2.t0);setErrorMessage('Error updating user');case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,9]]);}));return function handleUpdateUser(){return _ref2.apply(this,arguments);};}();var handleDeleteUser=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(userId){var userDoc;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;userDoc=doc(db,\"telegramUsers\",userId);_context3.next=4;return deleteDoc(userDoc);case 4:setUsers(users.filter(function(user){return user.id!==userId;}));setSuccessMessage('User successfully deleted!');_context3.next=12;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](0);console.error(\"Error deleting user: \",_context3.t0);setErrorMessage('Error deleting user');case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[0,8]]);}));return function handleDeleteUser(_x){return _ref3.apply(this,arguments);};}();var fetchUsers=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var loadMore,usersRef,usersQuery,userSnapshot,lastVisibleDoc,fetchedUsers,_args4=arguments;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:loadMore=_args4.length>0&&_args4[0]!==undefined?_args4[0]:false;setLoading(true);_context4.prev=2;usersRef=collection(db,\"telegramUsers\");usersQuery=loadMore&&lastVisible?query(usersRef,orderBy(\"balance\",\"desc\"),startAfter(lastVisible),limit(50)):query(usersRef,orderBy(\"balance\",\"desc\"),limit(50));_context4.next=7;return getDocs(usersQuery);case 7:userSnapshot=_context4.sent;lastVisibleDoc=userSnapshot.docs[userSnapshot.docs.length-1];setLastVisible(lastVisibleDoc);fetchedUsers=userSnapshot.docs.map(function(doc){return _objectSpread({id:doc.id},doc.data());});setUsers(loadMore?[].concat(_toConsumableArray(users),_toConsumableArray(fetchedUsers)):fetchedUsers);_context4.next=18;break;case 14:_context4.prev=14;_context4.t0=_context4[\"catch\"](2);console.error(\"Error fetching users: \",_context4.t0);setErrorMessage('Error fetching users');case 18:_context4.prev=18;setLoading(false);return _context4.finish(18);case 21:case\"end\":return _context4.stop();}}},_callee4,null,[[2,14,18,21]]);}));return function fetchUsers(){return _ref4.apply(this,arguments);};}();useEffect(function(){fetchUsers();// eslint-disable-next-line \n},[]);var toggleDropdown=function toggleDropdown(userId){setDropdownVisible(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},userId,!prevState[userId]));});};var formatNumber=function formatNumber(num){if(num<100000){return new Intl.NumberFormat().format(num).replace(/,/g,\" \");}else if(num<1000000){return new Intl.NumberFormat().format(num).replace(/,/g,\" \");}else{return(num/1000000).toFixed(3).replace(\".\",\".\")+\" M\";}};return/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex flex-col space-y-4 h-[100vh] scroller pt-4 overflow-y-auto pb-[150px]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full sm:w-[50%] flex flex-col gap-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchTerm,onChange:function onChange(e){return setSearchTerm(e.target.value);},placeholder:\"Search by username or userId\",className:\"bg-[#4b4b4b] w-full placeholder:text-[#b9b9b9] text-[#e0e0e0] placeholder:text-[12px] text-[13px] placeholder:font-light h-[55px] border-none outline-none rounded-[10px] flex items-center px-6\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearch,className:\"bg-[#f5bb5f] font-semibold text-[15px] rounded-[6px] w-full sm:w-[200px] h-fit px-4 py-3 text-[#000]\",children:\"Search\"}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:errorMessage}),successMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"text-green-500\",children:successMessage}),user&&/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex flex-col space-y-3 bg-cards p-4 rounded-[10px] text-[13px]\",children:[isEditing&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-full flex-wrap gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col w-full gap-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-[13px] pl-1 pb-[2px] font-medium\",children:\"User Balance\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"balance\",value:editUserData.balance,onChange:handleInputChange,placeholder:\"Balance\",className:\"bg-[#4b4b4b] placeholder:text-[#b9b9b9] text-[#e0e0e0] placeholder:text-[12px] text-[13px] placeholder:font-light h-[55px] border-none outline-none rounded-[10px] flex items-center px-6\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col w-full gap-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-[13px] pl-1 pb-[2px] font-medium\",children:\"User tap balance\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"tapBalance\",value:editUserData.tapBalance,onChange:handleInputChange,placeholder:\"Tap Balance\",className:\"bg-[#4b4b4b] placeholder:text-[#b9b9b9] text-[#e0e0e0] placeholder:text-[12px] text-[13px] placeholder:font-light h-[55px] border-none outline-none rounded-[10px] flex items-center px-6\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUpdateUser,className:\"bg-green-500 rounded-[6px] text-white px-2 py-[12px]\",children:\"Update User\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Username:\"}),\" \",user.username]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"User Id:\"}),\" \",user.id]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"User balance:\"}),\" \",formatNumber(user.balance)]}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(\"img\",{src:user.level.imgUrl,alt:\"User Level\",className:\"w-[14px] rounded-full h-[14px]\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"User level:\"}),\" \",user.level.name]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-wrap break-all\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"walletAddress:\"}),\" \",user.address]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(dropdownVisible[user.id]?'hidden':'flex',\" w-full items-center justify-start gap-4\"),children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setIsEditing(true);},className:\"bg-blue-500 rounded-[6px] text-white px-2 py-[6px]\",children:\"Edit User Details\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDeleteUser,className:\"bg-red-500 rounded-[6px] text-white px-2 py-[6px]\",children:\"Delete User\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full sm:w-[50%] flex flex-col space-y-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-[20px] font-semibold\",children:\"Users List\"}),users.map(function(user,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#4b4b4b] p-4 rounded-[10px] text-[13px] relative flex flex-col w-full space-y-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"flex w-full items-center space-x-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-[16px] h-[16px] flex justify-center items-center rounded-full bg-cards3\",children:/*#__PURE__*/_jsx(\"strong\",{children:index+1})}),\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"line-clamp-1 font-semibold\",children:[user.username,\" | \",user.id]}),\" \"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center gap-1 psl-1\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/coin.webp\",alt:\"balance\",className:\"w-[14px] h-[14px] rounded-full\"}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-accent\",children:[\" \",formatNumber(user.balance)]})})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center gap-1 pls-[1px]\",children:[/*#__PURE__*/_jsx(\"img\",{src:user.level.imgUrl,alt:\"User Level\",className:\"w-[14px] rounded-full h-[14px]\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-secondary\",children:[user.level.name,\" level\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return toggleDropdown(user.id);},className:\"absolute top-2 right-2 bg-gray-700 text-white rounded-full p-2 h-[28px] w-[28px] flex items-center justify-center\",children:\"\\u22EE\"}),dropdownVisible[user.id]&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute z-10 top-8 right-2 bg-[#2e2e2e] text-primary rounded-md shadow-lg w-40\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setUser(user);setEditUserData(user);setIsEditing(true);},className:\"block w-full text-left px-4 py-2 hover:bg-[#7a7a7a33]\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleDeleteUser(user.id);},className:\"block w-full text-left px-4 py-2 hover:bg-[#7a7a7a33]\",children:\"Delete\"})]})]},user.id);}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return fetchUsers(true);},disabled:loading,className:\"bg-[#f5bb5f] font-semibold text-[15px] rounded-[6px] w-full sm:w-[200px] h-fit px-4 py-3 text-[#000] mt-4\",children:loading?'Loading...':'Load More Users'})]})]});};export default UserManagementPanel;","map":{"version":3,"names":["React","useState","useEffect","db","collection","doc","getDoc","updateDoc","deleteDoc","query","where","getDocs","orderBy","limit","startAfter","UserManagementPanel","searchTerm","setSearchTerm","user","setUser","editUserData","setEditUserData","successMessage","setSuccessMessage","errorMessage","setErrorMessage","isEditing","setIsEditing","users","setUsers","lastVisible","setLastVisible","loading","setLoading","dropdownVisible","setDropdownVisible","handleSearch","userFound","usernameQuery","usernameSnapshot","empty","userData","docs","data","id","userDoc","exists","console","error","handleInputChange","e","target","name","value","Number","handleUpdateUser","handleDeleteUser","userId","filter","fetchUsers","loadMore","usersRef","usersQuery","userSnapshot","lastVisibleDoc","length","fetchedUsers","map","toggleDropdown","prevState","formatNumber","num","Intl","NumberFormat","format","replace","toFixed","balance","tapBalance","username","level","imgUrl","address","index"],"sources":["C:/Users/pvplo/OneDrive/Рабочий стол/editpallav-main/src/Components/UserManagementPanel.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { db } from '../firebase/firestore'; // adjust the path as needed\nimport { collection, doc, getDoc, updateDoc, deleteDoc, query, where, getDocs, orderBy, limit, startAfter } from \"firebase/firestore\";\n\nconst UserManagementPanel = () => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [user, setUser] = useState(null);\n  const [editUserData, setEditUserData] = useState(null);\n  const [successMessage, setSuccessMessage] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  const [isEditing, setIsEditing] = useState(false);\n  const [users, setUsers] = useState([]);\n  const [lastVisible, setLastVisible] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [dropdownVisible, setDropdownVisible] = useState({}); // Add state for dropdown visibility\n\n  const handleSearch = async () => {\n    try {\n      let userFound = false;\n\n      // Search by username\n      const usernameQuery = query(\n        collection(db, \"telegramUsers\"),\n        where(\"username\", \"==\", searchTerm)\n      );\n      const usernameSnapshot = await getDocs(usernameQuery);\n      if (!usernameSnapshot.empty) {\n        const userData = usernameSnapshot.docs[0].data();\n        setUser({ id: usernameSnapshot.docs[0].id, ...userData });\n        setEditUserData({ ...userData });\n        userFound = true;\n      }\n\n      // Search by userId if not found by username\n      if (!userFound) {\n        const userDoc = await getDoc(doc(db, \"telegramUsers\", searchTerm));\n        if (userDoc.exists()) {\n          const userData = userDoc.data();\n          setUser({ id: userDoc.id, ...userData });\n          setEditUserData({ ...userData });\n          userFound = true;\n        }\n      }\n\n      if (!userFound) {\n        setUser(null);\n        setEditUserData(null);\n        setErrorMessage('No user found');\n      } else {\n        setErrorMessage('');\n      }\n    } catch (error) {\n      console.error(\"Error searching user: \", error);\n      setErrorMessage('Error searching user');\n    }\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setEditUserData({\n      ...editUserData,\n      [name]: name === 'balance' || name === 'tapBalance' ? Number(value) : value\n    });\n  };\n\n  const handleUpdateUser = async () => {\n    try {\n      const userDoc = doc(db, \"telegramUsers\", user.id);\n      await updateDoc(userDoc, editUserData);\n      setSuccessMessage('User successfully updated!');\n      setUser({ id: user.id, ...editUserData });\n      setIsEditing(false);\n    } catch (error) {\n      console.error(\"Error updating user: \", error);\n      setErrorMessage('Error updating user');\n    }\n  };\n\n  const handleDeleteUser = async (userId) => {\n    try {\n      const userDoc = doc(db, \"telegramUsers\", userId);\n      await deleteDoc(userDoc);\n      setUsers(users.filter(user => user.id !== userId));\n      setSuccessMessage('User successfully deleted!');\n    } catch (error) {\n      console.error(\"Error deleting user: \", error);\n      setErrorMessage('Error deleting user');\n    }\n  };\n\n  const fetchUsers = async (loadMore = false) => {\n    setLoading(true);\n    try {\n      const usersRef = collection(db, \"telegramUsers\");\n      const usersQuery = loadMore && lastVisible\n        ? query(usersRef, orderBy(\"balance\", \"desc\"), startAfter(lastVisible), limit(50))\n        : query(usersRef, orderBy(\"balance\", \"desc\"), limit(50));\n\n      const userSnapshot = await getDocs(usersQuery);\n      const lastVisibleDoc = userSnapshot.docs[userSnapshot.docs.length - 1];\n      setLastVisible(lastVisibleDoc);\n\n      const fetchedUsers = userSnapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n\n      setUsers(loadMore ? [...users, ...fetchedUsers] : fetchedUsers);\n    } catch (error) {\n      console.error(\"Error fetching users: \", error);\n      setErrorMessage('Error fetching users');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchUsers();\n    // eslint-disable-next-line \n  }, []);\n\n  const toggleDropdown = (userId) => {\n    setDropdownVisible(prevState => ({\n      ...prevState,\n      [userId]: !prevState[userId]\n    }));\n  };\n\n  const formatNumber = (num) => {\n    if (num < 100000) {\n      return new Intl.NumberFormat().format(num).replace(/,/g, \" \");\n    } else if (num < 1000000) {\n      return new Intl.NumberFormat().format(num).replace(/,/g, \" \");\n    } else {\n      return (num / 1000000).toFixed(3).replace(\".\", \".\") + \" M\";\n    }\n  };\n\n\n  return (\n    <div className=\"w-full flex flex-col space-y-4 h-[100vh] scroller pt-4 overflow-y-auto pb-[150px]\">\n      <div className='w-full sm:w-[50%] flex flex-col gap-3'>\n        <input\n          type=\"text\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n          placeholder=\"Search by username or userId\"\n          className=\"bg-[#4b4b4b] w-full placeholder:text-[#b9b9b9] text-[#e0e0e0] placeholder:text-[12px] text-[13px] placeholder:font-light h-[55px] border-none outline-none rounded-[10px] flex items-center px-6\"\n        />\n        <button onClick={handleSearch} \n         className=\"bg-[#f5bb5f] font-semibold text-[15px] rounded-[6px] w-full sm:w-[200px] h-fit px-4 py-3 text-[#000]\">          \n          Search\n        </button>\n\n        {errorMessage && <p className=\"text-red-500\">{errorMessage}</p>}\n        {successMessage && <p className=\"text-green-500\">{successMessage}</p>}\n\n        {user && (\n          <div className='w-full flex flex-col space-y-3 bg-cards p-4 rounded-[10px] text-[13px]'>\n\n            {isEditing && (\n                <>\n                  <div className=\"flex w-full flex-wrap gap-3\">\n                    <div className='flex flex-col w-full gap-1'>\n                      <label className='text-[13px] pl-1 pb-[2px] font-medium'>\n                        User Balance\n                      </label>\n                      <input\n                        type=\"number\"\n                        name=\"balance\"\n                        value={editUserData.balance}\n                        onChange={handleInputChange}\n                        placeholder=\"Balance\"\n                        className=\"bg-[#4b4b4b] placeholder:text-[#b9b9b9] text-[#e0e0e0] placeholder:text-[12px] text-[13px] placeholder:font-light h-[55px] border-none outline-none rounded-[10px] flex items-center px-6\"\n                      />\n                    </div>\n\n                    <div className='flex flex-col w-full gap-1'>\n                      <label className='text-[13px] pl-1 pb-[2px] font-medium'>\n                        User tap balance\n                      </label>\n                      <input\n                        type=\"number\"\n                        name=\"tapBalance\"\n                        value={editUserData.tapBalance}\n                        onChange={handleInputChange}\n                        placeholder=\"Tap Balance\"\n                        className=\"bg-[#4b4b4b] placeholder:text-[#b9b9b9] text-[#e0e0e0] placeholder:text-[12px] text-[13px] placeholder:font-light h-[55px] border-none outline-none rounded-[10px] flex items-center px-6\"\n                      />\n                    </div>\n                  </div>\n                  <button \n                    onClick={handleUpdateUser} \n                    className=\"bg-green-500 rounded-[6px] text-white px-2 py-[12px]\">\n                    Update User\n                  </button>\n                </>\n            )}\n\n            <p><strong>Username:</strong> {user.username}</p>\n            <p><strong>User Id:</strong> {user.id}</p>\n            <p><strong>User balance:</strong> {formatNumber(user.balance)}</p>\n        \n            <span className='flex items-center gap-1'>\n              <img src={user.level.imgUrl} alt=\"User Level\" className=\"w-[14px] rounded-full h-[14px]\" />\n              <p><strong>User level:</strong> {user.level.name}</p>\n            </span>\n            <p className='text-wrap break-all'><strong>walletAddress:</strong> {user.address}</p>\n            <div className={`${dropdownVisible[user.id] ? 'hidden' : 'flex'} w-full items-center justify-start gap-4`}>\n              <button \n                onClick={() => setIsEditing(true)} \n                className=\"bg-blue-500 rounded-[6px] text-white px-2 py-[6px]\">\n                Edit User Details\n              </button>\n\n              <button \n                onClick={handleDeleteUser} \n                className=\"bg-red-500 rounded-[6px] text-white px-2 py-[6px]\">\n                Delete User\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n\n      <div className=\"w-full sm:w-[50%] flex flex-col space-y-3\">\n        <h2 className=\"text-[20px] font-semibold\">Users List</h2>\n        {users.map((user, index) => (\n          <div key={user.id} className=\"bg-[#4b4b4b] p-4 rounded-[10px] text-[13px] relative flex flex-col w-full space-y-2\">\n            <span className='flex w-full items-center space-x-1'>\n              <span className='w-[16px] h-[16px] flex justify-center items-center rounded-full bg-cards3'>\n             <strong>{index +1}</strong>\n             </span> <span className='line-clamp-1 font-semibold'>{user.username} | {user.id}</span> </span>\n\n\n            <span className='flex items-center gap-1 psl-1'>\n              <img src='/coin.webp' alt=\"balance\" className=\"w-[14px] h-[14px] rounded-full\" />\n              <p><span className='font-semibold text-accent'> {formatNumber(user.balance)}</span></p>\n            </span>\n                    \n            <span className='flex items-center gap-1 pls-[1px]'>\n              <img src={user.level.imgUrl} alt=\"User Level\" className=\"w-[14px] rounded-full h-[14px]\" />\n              <p className='text-secondary'>{user.level.name} level</p>\n            </span>\n\n            <button \n              onClick={() => toggleDropdown(user.id)} \n              className=\"absolute top-2 right-2 bg-gray-700 text-white rounded-full p-2 h-[28px] w-[28px] flex items-center justify-center\"\n            >\n              ⋮\n            </button>\n\n            {dropdownVisible[user.id] && (\n              <div className=\"absolute z-10 top-8 right-2 bg-[#2e2e2e] text-primary rounded-md shadow-lg w-40\">\n                <button \n                  onClick={() => {\n                    setUser(user);\n                    setEditUserData(user);\n                    setIsEditing(true);\n                  }} \n                  className=\"block w-full text-left px-4 py-2 hover:bg-[#7a7a7a33]\"\n                >\n                  Edit\n                </button>\n                <button \n                  onClick={() => handleDeleteUser(user.id)} \n                  className=\"block w-full text-left px-4 py-2 hover:bg-[#7a7a7a33]\"\n                >\n                  Delete\n                </button>\n              </div>\n            )}\n          </div>\n        ))}\n        <button \n          onClick={() => fetchUsers(true)}\n          disabled={loading}\n          className=\"bg-[#f5bb5f] font-semibold text-[15px] rounded-[6px] w-full sm:w-[200px] h-fit px-4 py-3 text-[#000] mt-4\"\n        >\n          {loading ? 'Loading...' : 'Load More Users'}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default UserManagementPanel;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}