{"ast":null,"code":"import _slicedToArray from\"C:/Users/pvplo/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/editpallav-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useRef}from'react';import LogoutButton from'../Components/LogoutButton';import{useAuthContext}from'../context/AuthContext';import{NavLink,useLocation,useNavigate}from'react-router-dom';import Spinner from'../Components/Spinner';// import { AdminProvider } from '../context/AdminContext';\n// import { useAdmin } from '../context/AdminContext';\nimport{Outlet}from\"react-router-dom\";import{IoCloseCircle}from'react-icons/io5';import{HiMenuAlt1}from\"react-icons/hi\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var linksTo=[{link:'/dashboardAdx/stats',title:'Dashboard'},{link:'/dashboardAdx/managetasks',title:'Telegram Tasks'},{link:'/dashboardAdx/externaltasks',title:'External Tasks'},{link:'/dashboardAdx/search',title:'Users list'},{link:'/dashboardAdx/settings',title:'Settings'}];var Dashboard=function Dashboard(){var _useAuthContext=useAuthContext(),user=_useAuthContext.user,loading=_useAuthContext.loading;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showMenu=_useState2[0],setShowMenu=_useState2[1];var pageRoute=useLocation();var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),pageTitle=_useState4[0],setPageTitle=_useState4[1];var infoRefTwo=useRef(null);// const {} = useAdmin();\nvar location=useNavigate();var handleClickOutside=function handleClickOutside(event){if(infoRefTwo.current&&!infoRefTwo.current.contains(event.target)){setShowMenu(false);}};useEffect(function(){if(pageRoute.pathname==='/dashboardAdx/stats'){setPageTitle('Admin Dashboard');}else if(pageRoute.pathname==='/dashboardAdx/managetasks'){setPageTitle('Manage Telegram Tasks');}else if(pageRoute.pathname==='/dashboardAdx/externaltasks'){setPageTitle('Manage External Tasks');}else if(pageRoute.pathname==='/dashboardAdx/settings'){setPageTitle('Settings');}else{setPageTitle('Users list');}},[pageRoute.pathname]);useEffect(function(){if(!loading&&!user){location(\"/dashboardadmin36024x\");}},[user,loading,location]);useEffect(function(){if(showMenu){document.addEventListener('mousedown',handleClickOutside);}else{document.removeEventListener('mousedown',handleClickOutside);}return function(){document.removeEventListener('mousedown',handleClickOutside);};},[showMenu]);if(loading){return/*#__PURE__*/_jsx(Spinner,{});}if(!user){return null;}return/*#__PURE__*/_jsx(\"div\",{className:\"w-full flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col pt-5 space-y-3 w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex justify-center flex-col -mt-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex justify-between gap-2 items-center bg-[#3e3e3e] p-4 fixed top-0 left-0 right-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex sm:w-[18%] items-center\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/dashboardAdx/stats\",className:\"\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/loader.webp\",alt:\"not\",className:\"w-[30px]\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"sm:w-[82%] flex flex-1 justify-between items-center sm:px-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-[16px] sm:text-[18px] font-bold text-nowrap\",children:pageTitle}),/*#__PURE__*/_jsx(\"div\",{className:\"relative flex justify-end w-[60%]\",children:showMenu?/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setShowMenu(false);},className:\"h-[35px] w-[35px] rounded-full bg-[#606060] flex items-center justify-center text-[#fff]\",children:/*#__PURE__*/_jsx(IoCloseCircle,{size:18,className:\"\"})}):/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setShowMenu(true);},className:\"h-[35px] w-[35px] rounded-full bg-[#606060] flex items-center justify-center text-[#fff]\",children:/*#__PURE__*/_jsx(HiMenuAlt1,{size:18,className:\"\"})})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(showMenu===true?'visible opacity-100 pointer-events-auto left-0 right-0 bottom-0':'invisible opacity-0 sm:opacity-100 sm:visible pointer-events-none sm:pointer-events-auto left-[-100%] sm:left-0',\" backdrop-blur-[1px] w-full ease-in duration-200 bg-[#2424243f] z-20 sm:w-[18%] flex flex-col top-0 fixed sm:relative\"),children:/*#__PURE__*/_jsxs(\"div\",{ref:infoRefTwo,className:\"w-[70%] sm:w-full bg-[#282828] h-screen absolute left-0 top-0 flex flex-col space-y-5 p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center flex-row sm:flex-col w-full gap-2\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/loader.webp\",alt:\"not\",className:\"w-[28px] sm:w-[35px]\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-[13px]\",children:user&&user.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-3 w-full pt-8\",children:[linksTo.map(function(menu,index){return/*#__PURE__*/_jsxs(NavLink,{to:menu.link,onClick:function onClick(){return setShowMenu(false);},className:\"\".concat(pageRoute.pathname===\"\".concat(menu.link)?'bg-[#424242]':'',\" px-2 py-3 flex rounded-[6px] items-center space-x-1 font-medium\"),children:[/*#__PURE__*/_jsx(\"span\",{className:\"\"}),/*#__PURE__*/_jsx(\"span\",{className:\"\",children:menu.title})]},index);}),/*#__PURE__*/_jsx(LogoutButton,{})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full sm:w-[82%] flex px-4 sm:px-6 flex-col pt-[70px]\",children:/*#__PURE__*/_jsx(Outlet,{})})]})]})})});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","useRef","LogoutButton","useAuthContext","NavLink","useLocation","useNavigate","Spinner","Outlet","IoCloseCircle","HiMenuAlt1","linksTo","link","title","Dashboard","user","loading","showMenu","setShowMenu","pageRoute","pageTitle","setPageTitle","infoRefTwo","location","handleClickOutside","event","current","contains","target","pathname","document","addEventListener","removeEventListener","email","map","menu","index"],"sources":["C:/Users/pvplo/OneDrive/Рабочий стол/editpallav-main/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect, useRef  } from 'react'\nimport LogoutButton from '../Components/LogoutButton'\nimport { useAuthContext } from '../context/AuthContext';\nimport { NavLink, useLocation, useNavigate } from 'react-router-dom';\nimport Spinner from '../Components/Spinner';\n// import { AdminProvider } from '../context/AdminContext';\n// import { useAdmin } from '../context/AdminContext';\nimport { Outlet } from \"react-router-dom\";\nimport { IoCloseCircle } from 'react-icons/io5';\nimport { HiMenuAlt1 } from \"react-icons/hi\";\n\n\nconst linksTo = [\n    {\n        link: '/dashboardAdx/stats',\n        title: 'Dashboard',\n    },\n    {\n        link: '/dashboardAdx/managetasks',\n        title: 'Telegram Tasks',\n    },\n    {\n        link: '/dashboardAdx/externaltasks',\n        title: 'External Tasks',\n    },\n    {\n        link: '/dashboardAdx/search',\n        title: 'Users list',\n    },\n    {\n        link: '/dashboardAdx/settings',\n        title: 'Settings',\n    },\n] \n\n\nconst Dashboard = () => {\n    const { user, loading } = useAuthContext();\n    const [showMenu, setShowMenu] = useState(false);\n    const pageRoute = useLocation();\n    const [pageTitle, setPageTitle] = useState('')\n\n    const infoRefTwo = useRef(null);\n    // const {} = useAdmin();\n\n    const location = useNavigate()\n    const handleClickOutside = (event) => {\n\n        if (infoRefTwo.current && !infoRefTwo.current.contains(event.target)) {\n          setShowMenu(false);\n        }\n      };\n\n\n\nuseEffect(() => {\n    if (pageRoute.pathname === '/dashboardAdx/stats') {\n        setPageTitle('Admin Dashboard')\n    } else if (pageRoute.pathname === '/dashboardAdx/managetasks') {\n        setPageTitle('Manage Telegram Tasks')\n    } else if (pageRoute.pathname === '/dashboardAdx/externaltasks') {\n        setPageTitle('Manage External Tasks')\n    }  else if (pageRoute.pathname === '/dashboardAdx/settings') {\n        setPageTitle('Settings')\n    }  else {\n        setPageTitle('Users list')\n        \n    }\n}, [pageRoute.pathname])\n\n    useEffect(() => {\n        if (!loading && !user) {\n          location(\"/dashboardadmin36024x\");\n        }\n      }, [user, loading, location]);\n          \n      useEffect(() => {\n        if (showMenu) {\n          document.addEventListener('mousedown', handleClickOutside);\n        } else {\n          document.removeEventListener('mousedown', handleClickOutside);\n        }\n        \n        return () => {\n          document.removeEventListener('mousedown', handleClickOutside);\n        };\n      }, [showMenu]);\n    \n      if (loading) {\n        return <Spinner/>;\n      }\n    \n      if (!user) {\n        return null;\n      }\n  \n\n    \n\n\n\n      \n  return (\n\n     \n  \n        <div className=\"w-full flex justify-center\">\n          <div className=\"flex flex-col pt-5 space-y-3 w-full\">\n\n       \n       \n\n\n            <div className='w-full flex justify-center flex-col -mt-5'>\n\n<div className='w-full flex justify-between gap-2 items-center bg-[#3e3e3e] p-4 fixed top-0 left-0 right-0'>\n\n    <div className='flex sm:w-[18%] items-center'>\n<NavLink to='/dashboardAdx/stats' className=''>\n<img src='/loader.webp' alt='not' className='w-[30px]'/>\n</NavLink>\n\n\n    </div>\n\n    <div className='sm:w-[82%] flex flex-1 justify-between items-center sm:px-4'>\n    <h1 className='text-[16px] sm:text-[18px] font-bold text-nowrap'>\n        {pageTitle}\n    </h1>\n    \n\n    <div className='relative flex justify-end w-[60%]'>\n        \n        {showMenu ? (\n    <button onClick={() => setShowMenu(false)}\n    className='h-[35px] w-[35px] rounded-full bg-[#606060] flex items-center justify-center text-[#fff]'>\n        <IoCloseCircle size={18} className=''/>\n    </button>\n        ) : (\n            <button onClick={() => setShowMenu(true)}\n            className='h-[35px] w-[35px] rounded-full bg-[#606060] flex items-center justify-center text-[#fff]'>\n                <HiMenuAlt1 size={18} className=''/>\n            </button>\n        )}\n\n    {/* <div ref={infoRefTwo} className={`${showMenu === true ? 'flex' : 'hidden'} flex-col space-y-2 w-[250px] right-0 top-12 rounded-[8px] absolute bg-[#323232] p-4`}>\n\n\n  <div className='flex flex-col space-y-2 relative'>\n  <span className='text-[15px] text-wrap line-clamp-1'>\n   {user && (user.email)}\n    </span>\n    <LogoutButton/>\n  </div>\n\n\n    </div> */}\n    </div>\n    </div>\n\n\n</div>\n<div className='w-full flex justify-between'>\n<div className={`${showMenu === true ? 'visible opacity-100 pointer-events-auto left-0 right-0 bottom-0' : 'invisible opacity-0 sm:opacity-100 sm:visible pointer-events-none sm:pointer-events-auto left-[-100%] sm:left-0'} backdrop-blur-[1px] w-full ease-in duration-200 bg-[#2424243f] z-20 sm:w-[18%] flex flex-col top-0 fixed sm:relative`}>\n\n\n    <div ref={infoRefTwo} className={`w-[70%] sm:w-full bg-[#282828] h-screen absolute left-0 top-0 flex flex-col space-y-5 p-4`}>\n\n    <div className='flex items-center flex-row sm:flex-col w-full gap-2'>\n\n        <img src='/loader.webp' alt='not' className='w-[28px] sm:w-[35px]'/>\n        <span className='text-[13px]'>\n        {user && (user.email)}\n        </span>\n\n    </div>\n\n    <div className='flex flex-col space-y-3 w-full pt-8'>\n\n        {linksTo.map((menu, index) => (\n            <NavLink to={menu.link} onClick={() => setShowMenu(false)} key={index} className={`${pageRoute.pathname === `${menu.link}` ? 'bg-[#424242]' : ''} px-2 py-3 flex rounded-[6px] items-center space-x-1 font-medium`}>\n                <span className=''>\n\n                </span>\n               <span className=''>\n                 {menu.title}\n                 </span>\n            </NavLink>\n        ))}\n\n<LogoutButton/>\n\n    </div>\n    </div>\n    </div>\n\n<div className='w-full sm:w-[82%] flex px-4 sm:px-6 flex-col pt-[70px]'>\n\n\n<Outlet />\n\n</div>\n\n</div>\n\n\n\n\n\n\n\n\n           \n         \n       </div>\n           </div>\n           </div>\n\n\n\n\n\n\n\n  )\n}\n\nexport default Dashboard"],"mappings":"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"},"metadata":{},"sourceType":"module"}