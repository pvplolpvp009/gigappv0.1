{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/pvplo/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/editpallav-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _wrapAsyncGenerator from \"C:/Users/pvplo/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/editpallav-main/node_modules/@babel/runtime/helpers/esm/wrapAsyncGenerator.js\";\nimport _awaitAsyncGenerator from \"C:/Users/pvplo/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/editpallav-main/node_modules/@babel/runtime/helpers/esm/awaitAsyncGenerator.js\";\nimport _asyncGeneratorDelegate from \"C:/Users/pvplo/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/editpallav-main/node_modules/@babel/runtime/helpers/esm/asyncGeneratorDelegate.js\";\nimport _asyncIterator from \"C:/Users/pvplo/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/editpallav-main/node_modules/@babel/runtime/helpers/esm/asyncIterator.js\";\nimport _regeneratorRuntime from \"C:\\\\Users\\\\pvplo\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\editpallav-main\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";\nexport var streamChunk = /*#__PURE__*/_regeneratorRuntime.mark(function streamChunk(chunk, chunkSize) {\n  var len, pos, end;\n  return _regeneratorRuntime.wrap(function streamChunk$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          len = chunk.byteLength;\n\n          if (!(!chunkSize || len < chunkSize)) {\n            _context.next = 5;\n            break;\n          }\n\n          _context.next = 4;\n          return chunk;\n\n        case 4:\n          return _context.abrupt(\"return\");\n\n        case 5:\n          pos = 0;\n\n        case 6:\n          if (!(pos < len)) {\n            _context.next = 13;\n            break;\n          }\n\n          end = pos + chunkSize;\n          _context.next = 10;\n          return chunk.slice(pos, end);\n\n        case 10:\n          pos = end;\n          _context.next = 6;\n          break;\n\n        case 13:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, streamChunk);\n});\nexport var readBytes = /*#__PURE__*/function () {\n  var _ref = _wrapAsyncGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(iterable, chunkSize, encode) {\n    var _iteratorAbruptCompletion, _didIteratorError, _iteratorError, _iterator, _step, chunk;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _iteratorAbruptCompletion = false;\n            _didIteratorError = false;\n            _context2.prev = 2;\n            _iterator = _asyncIterator(iterable);\n\n          case 4:\n            _context2.next = 6;\n            return _awaitAsyncGenerator(_iterator.next());\n\n          case 6:\n            if (!(_iteratorAbruptCompletion = !(_step = _context2.sent).done)) {\n              _context2.next = 27;\n              break;\n            }\n\n            chunk = _step.value;\n            _context2.t0 = _asyncGeneratorDelegate;\n            _context2.t1 = _asyncIterator;\n            _context2.t2 = streamChunk;\n\n            if (!ArrayBuffer.isView(chunk)) {\n              _context2.next = 15;\n              break;\n            }\n\n            _context2.t3 = chunk;\n            _context2.next = 18;\n            break;\n\n          case 15:\n            _context2.next = 17;\n            return _awaitAsyncGenerator(encode(String(chunk)));\n\n          case 17:\n            _context2.t3 = _context2.sent;\n\n          case 18:\n            _context2.t4 = _context2.t3;\n            _context2.t5 = chunkSize;\n            _context2.t6 = (0, _context2.t2)(_context2.t4, _context2.t5);\n            _context2.t7 = (0, _context2.t1)(_context2.t6);\n            _context2.t8 = _awaitAsyncGenerator;\n            return _context2.delegateYield((0, _context2.t0)(_context2.t7, _context2.t8), \"t9\", 24);\n\n          case 24:\n            _iteratorAbruptCompletion = false;\n            _context2.next = 4;\n            break;\n\n          case 27:\n            _context2.next = 33;\n            break;\n\n          case 29:\n            _context2.prev = 29;\n            _context2.t10 = _context2[\"catch\"](2);\n            _didIteratorError = true;\n            _iteratorError = _context2.t10;\n\n          case 33:\n            _context2.prev = 33;\n            _context2.prev = 34;\n\n            if (!(_iteratorAbruptCompletion && _iterator.return != null)) {\n              _context2.next = 38;\n              break;\n            }\n\n            _context2.next = 38;\n            return _awaitAsyncGenerator(_iterator.return());\n\n          case 38:\n            _context2.prev = 38;\n\n            if (!_didIteratorError) {\n              _context2.next = 41;\n              break;\n            }\n\n            throw _iteratorError;\n\n          case 41:\n            return _context2.finish(38);\n\n          case 42:\n            return _context2.finish(33);\n\n          case 43:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee, null, [[2, 29, 33, 43], [34,, 38, 42]]);\n  }));\n\n  return function readBytes(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var trackStream = function trackStream(stream, chunkSize, onProgress, onFinish, encode) {\n  var iterator = readBytes(stream, chunkSize, encode);\n  var bytes = 0;\n  return new ReadableStream({\n    type: 'bytes',\n    pull: function pull(controller) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var _yield$iterator$next, done, value, len;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return iterator.next();\n\n              case 2:\n                _yield$iterator$next = _context3.sent;\n                done = _yield$iterator$next.done;\n                value = _yield$iterator$next.value;\n\n                if (!done) {\n                  _context3.next = 9;\n                  break;\n                }\n\n                controller.close();\n                onFinish();\n                return _context3.abrupt(\"return\");\n\n              case 9:\n                len = value.byteLength;\n                onProgress && onProgress(bytes += len);\n                controller.enqueue(new Uint8Array(value));\n\n              case 12:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    },\n    cancel: function cancel(reason) {\n      onFinish(reason);\n      return iterator.return();\n    }\n  }, {\n    highWaterMark: 2\n  });\n};","map":{"version":3,"names":["streamChunk","chunk","chunkSize","len","byteLength","pos","end","slice","readBytes","iterable","encode","ArrayBuffer","isView","String","trackStream","stream","onProgress","onFinish","iterator","bytes","ReadableStream","type","pull","controller","next","done","value","close","enqueue","Uint8Array","cancel","reason","return","highWaterMark"],"sources":["C:/Users/pvplo/OneDrive/Рабочий стол/editpallav-main/node_modules/axios/lib/helpers/trackStream.js"],"sourcesContent":["\n\nexport const streamChunk = function* (chunk, chunkSize) {\n  let len = chunk.byteLength;\n\n  if (!chunkSize || len < chunkSize) {\n    yield chunk;\n    return;\n  }\n\n  let pos = 0;\n  let end;\n\n  while (pos < len) {\n    end = pos + chunkSize;\n    yield chunk.slice(pos, end);\n    pos = end;\n  }\n}\n\nexport const readBytes = async function* (iterable, chunkSize, encode) {\n  for await (const chunk of iterable) {\n    yield* streamChunk(ArrayBuffer.isView(chunk) ? chunk : (await encode(String(chunk))), chunkSize);\n  }\n}\n\nexport const trackStream = (stream, chunkSize, onProgress, onFinish, encode) => {\n  const iterator = readBytes(stream, chunkSize, encode);\n\n  let bytes = 0;\n\n  return new ReadableStream({\n    type: 'bytes',\n\n    async pull(controller) {\n      const {done, value} = await iterator.next();\n\n      if (done) {\n        controller.close();\n        onFinish();\n        return;\n      }\n\n      let len = value.byteLength;\n      onProgress && onProgress(bytes += len);\n      controller.enqueue(new Uint8Array(value));\n    },\n    cancel(reason) {\n      onFinish(reason);\n      return iterator.return();\n    }\n  }, {\n    highWaterMark: 2\n  })\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}