{"ast":null,"code":"import _slicedToArray from \"C:/Users/pvplo/OneDrive/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/editpallav-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { useRef, useEffect } from 'react';\nimport { useInstantLayoutTransition } from '../projection/use-instant-layout-transition.mjs';\nimport { useForceUpdate } from './use-force-update.mjs';\nimport { instantAnimationState } from './use-instant-transition-state.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\nfunction useInstantTransition() {\n  var _useForceUpdate = useForceUpdate(),\n      _useForceUpdate2 = _slicedToArray(_useForceUpdate, 2),\n      forceUpdate = _useForceUpdate2[0],\n      forcedRenderCount = _useForceUpdate2[1];\n\n  var startInstantLayoutTransition = useInstantLayoutTransition();\n  var unlockOnFrameRef = useRef();\n  useEffect(function () {\n    /**\n     * Unblock after two animation frames, otherwise this will unblock too soon.\n     */\n    frame.postRender(function () {\n      return frame.postRender(function () {\n        /**\n         * If the callback has been called again after the effect\n         * triggered this 2 frame delay, don't unblock animations. This\n         * prevents the previous effect from unblocking the current\n         * instant transition too soon. This becomes more likely when\n         * used in conjunction with React.startTransition().\n         */\n        if (forcedRenderCount !== unlockOnFrameRef.current) return;\n        instantAnimationState.current = false;\n      });\n    });\n  }, [forcedRenderCount]);\n  return function (callback) {\n    startInstantLayoutTransition(function () {\n      instantAnimationState.current = true;\n      forceUpdate();\n      callback();\n      unlockOnFrameRef.current = forcedRenderCount + 1;\n    });\n  };\n}\n\nfunction disableInstantTransitions() {\n  instantAnimationState.current = false;\n}\n\nexport { disableInstantTransitions, useInstantTransition };","map":{"version":3,"names":["useRef","useEffect","useInstantLayoutTransition","useForceUpdate","instantAnimationState","frame","useInstantTransition","forceUpdate","forcedRenderCount","startInstantLayoutTransition","unlockOnFrameRef","postRender","current","callback","disableInstantTransitions"],"sources":["C:/Users/pvplo/OneDrive/Рабочий стол/editpallav-main/node_modules/framer-motion/dist/es/utils/use-instant-transition.mjs"],"sourcesContent":["import { useRef, useEffect } from 'react';\nimport { useInstantLayoutTransition } from '../projection/use-instant-layout-transition.mjs';\nimport { useForceUpdate } from './use-force-update.mjs';\nimport { instantAnimationState } from './use-instant-transition-state.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\nfunction useInstantTransition() {\n    const [forceUpdate, forcedRenderCount] = useForceUpdate();\n    const startInstantLayoutTransition = useInstantLayoutTransition();\n    const unlockOnFrameRef = useRef();\n    useEffect(() => {\n        /**\n         * Unblock after two animation frames, otherwise this will unblock too soon.\n         */\n        frame.postRender(() => frame.postRender(() => {\n            /**\n             * If the callback has been called again after the effect\n             * triggered this 2 frame delay, don't unblock animations. This\n             * prevents the previous effect from unblocking the current\n             * instant transition too soon. This becomes more likely when\n             * used in conjunction with React.startTransition().\n             */\n            if (forcedRenderCount !== unlockOnFrameRef.current)\n                return;\n            instantAnimationState.current = false;\n        }));\n    }, [forcedRenderCount]);\n    return (callback) => {\n        startInstantLayoutTransition(() => {\n            instantAnimationState.current = true;\n            forceUpdate();\n            callback();\n            unlockOnFrameRef.current = forcedRenderCount + 1;\n        });\n    };\n}\nfunction disableInstantTransitions() {\n    instantAnimationState.current = false;\n}\n\nexport { disableInstantTransitions, useInstantTransition };\n"],"mappings":";AAAA,SAASA,MAAT,EAAiBC,SAAjB,QAAkC,OAAlC;AACA,SAASC,0BAAT,QAA2C,iDAA3C;AACA,SAASC,cAAT,QAA+B,wBAA/B;AACA,SAASC,qBAAT,QAAsC,oCAAtC;AACA,SAASC,KAAT,QAAsB,wBAAtB;;AAEA,SAASC,oBAAT,GAAgC;EAC5B,sBAAyCH,cAAc,EAAvD;EAAA;EAAA,IAAOI,WAAP;EAAA,IAAoBC,iBAApB;;EACA,IAAMC,4BAA4B,GAAGP,0BAA0B,EAA/D;EACA,IAAMQ,gBAAgB,GAAGV,MAAM,EAA/B;EACAC,SAAS,CAAC,YAAM;IACZ;AACR;AACA;IACQI,KAAK,CAACM,UAAN,CAAiB;MAAA,OAAMN,KAAK,CAACM,UAAN,CAAiB,YAAM;QAC1C;AACZ;AACA;AACA;AACA;AACA;AACA;QACY,IAAIH,iBAAiB,KAAKE,gBAAgB,CAACE,OAA3C,EACI;QACJR,qBAAqB,CAACQ,OAAtB,GAAgC,KAAhC;MACH,CAXsB,CAAN;IAAA,CAAjB;EAYH,CAhBQ,EAgBN,CAACJ,iBAAD,CAhBM,CAAT;EAiBA,OAAO,UAACK,QAAD,EAAc;IACjBJ,4BAA4B,CAAC,YAAM;MAC/BL,qBAAqB,CAACQ,OAAtB,GAAgC,IAAhC;MACAL,WAAW;MACXM,QAAQ;MACRH,gBAAgB,CAACE,OAAjB,GAA2BJ,iBAAiB,GAAG,CAA/C;IACH,CAL2B,CAA5B;EAMH,CAPD;AAQH;;AACD,SAASM,yBAAT,GAAqC;EACjCV,qBAAqB,CAACQ,OAAtB,GAAgC,KAAhC;AACH;;AAED,SAASE,yBAAT,EAAoCR,oBAApC"},"metadata":{},"sourceType":"module"}